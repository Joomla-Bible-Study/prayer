<?php/** * prayer Component * * @license http://www.gnu.org/copyleft/gpl.html GNU/GPL * */// No direct accessdefined('_JEXEC') or die('Restricted access');class PrayerViewDevotion extends JViewLegacy{	protected $state;	protected $item;	protected $form;	public function display($tpl = null)	{		$app = JFactory::getApplication();		$this->state = $this->get('State');		$this->item  = $this->get('Item');		$this->form  = $this->get('Form');		$this->edit  = $this->get('edit');		// Check for errors.		if (count($errors = $this->get('Errors')))		{			JError::raiseError(500, implode("\n", $errors));			return false;		}//////		$lists = [];//////		$plan = $app->input->get('plan', true);//////		if (!isset($plan))//		{//			$plan = "";//		}////		$this->lists = $lists;//		$this->plan = $plan;		$this->addToolbar();		return parent::display($tpl);	}	protected function addToolbar()	{		JFactory::getApplication()->input->set('hidemainmenu', true);		$user = JFactory::getUser();		$userId = $user->get('id');		$isNew = ($this->item->id == 0);		$checkedOut = !($this->item->checked_out == 0 || $this->item->checked_out == $user->get('id'));		$canDo = PrayerHelper::getActions('com_cwmprayer', '', $this->item->id);		JToolBarHelper::title('prayer - Edit Devotion');		JToolbarHelper::apply('devotion.apply');		JToolbarHelper::save('devotion.save');		if (!$isNew)		{			JToolBarHelper::cancel('devotion.cancel');		}		else		{			JToolBarHelper::cancel('devotion.cancel', 'Close');		}	}}